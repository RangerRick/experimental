Package: guichan
Version: 0.7.1
Revision: 1
Source: http://guichan.googlecode.com/files/%n-%v.tar.gz
Source-MD5: 275c5bad231d2ce55e654d80cb1e05be
GCC: 4.0
Patch: %n.patch
BuildDepends: sdl, sdl-image
Depends: %N-shlibs (= %v-%r)
BuildDependsOnly: true
InstallScript: <<
#!/bin/sh -ev

	make -j1 install DESTDIR=%d
	install -d -m 755 %i/share/doc/%N
	mv examples %i/share/doc/%N/

	install -d -m 755 %i/lib/pkgconfig
	cat <<END >%i/lib/pkgconfig/guichan.pc
# guichan pkg-config source file

prefix=%p
exec_prefix=${prefix}
libdir=${exec_prefix}/lib
includedir=${prefix}/include

Name: guichan
Description: a small, efficient C++ GUI library designed for games
Version: %v
Requires:
Conflicts:
Libs: -L\${libdir} -lguichan
Cflags: -I\${includedir}
END

	cat <<END >%i/lib/pkgconfig/guichan_sdl.pc
# guichan_sdl pkg-config source file

prefix=%p
exec_prefix=\${prefix}
libdir=\${exec_prefix}/lib
includedir=\${prefix}/include

Name: guichan_sdl
Description: a small, efficient C++ GUI library designed for games (SDL interface)
Version: %v
Requires: guichan
Conflicts:
Libs: -L\${libdir} -lsdl
Cflags: -I\${includedir}
END

	cat <<END >%i/lib/pkgconfig/guichan_opengl.pc
# guichan_opengl pkg-config source file

prefix=%p
exec_prefix=${prefix}
libdir=\${exec_prefix}/lib
includedir=\${prefix}/include

Name: guichan_opengl
Description: a small, efficient C++ GUI library designed for games (SDL interface)
Version: %v
Requires: guichan
Conflicts:
Libs: -L\${libdir} -lguichan_opengl -Wl,-framework,OpenGL
Cflags: -I\${includedir}
END

<<
SplitOff: <<
	Package: %N-shlibs
	Depends: sdl-shlibs, sdl-image-shlibs
	DocFiles: COPYING
	Files: lib/libguichan*.0*.dylib
	Shlibs: <<
		%p/lib/libguichan.0.dylib        1.0.0 %n (>= 0.7.1-1)
		%p/lib/libguichan_opengl.0.dylib 1.0.0 %n (>= 0.7.1-1)
		%p/lib/libguichan_sdl.0.dylib    1.0.0 %n (>= 0.7.1-1)
	<<
<<
DocFiles: AUTHORS COPYING ChangeLog INSTALL NEWS README TODO
Description: GUI library for games
DescDetail: <<
Guichan is a small, efficient C++ GUI library designed for games.  It comes with a
standard set of widgets and can use several different back-ends for displaying
graphics and grabbing user input.
<<
License: BSD
Maintainer: Benjamin Reed <guichan@fink.raccoonfink.com>
Homepage: http://guichan.sourceforge.net/
