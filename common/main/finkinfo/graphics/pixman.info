Package: pixman
Version: 0.18.2
Revision: 1
Source: http://xorg.freedesktop.org/archive/individual/lib/pixman-%v.tar.bz2
Source-MD5: 8f0c47bbb12a0d9c0d14242596bf6bf9

Conflicts: libpixman1
Replaces: libpixman1
BuildDepends: <<
	fink (>= 0.24.12-1),
	fink-package-precedence (>= 0.7-1),
	pkgconfig (>= 0.22-3)
<<
BuildDependsOnly: true
Depends: %N-shlibs (= %v-%r)

InfoTest: <<
	TestScript: make -k check || exit 2
<<

PatchScript: <<
	perl -pi -e 's,PTHREAD_LDFLAGS="-pthread",PTHREAD_LDFLAGS="",g' configure
<<

NoSetLDFLAGS: true
ConfigureParams: --enable-dependency-tracking --disable-gtk --disable-static
CompileScript: <<
#!/bin/sh -ev

	if [ -x "/usr/bin/gcc-4.2" ]; then
		export CC=gcc-4.2
	fi
	./configure %c
	make
	fink-package-precedence --prohibit-bdep %N .
<<
InstallScript: make -j1 install DESTDIR="%d"
SplitOff: <<
	Package: %N-shlibs
	Files: lib/libpixman-1.0*.dylib
	Shlibs: %p/lib/libpixman-1.0.dylib 19.0.0 %N-shlibs (>= 0.18.0-1)
	DocFiles: COPYING
<<
DocFiles: AUTHORS COPYING ChangeLog* INSTALL NEWS README TODO
Description: Pixel manipulation library
License: BSD
Homepage: http://www.cairographics.org/
Maintainer: Benjamin Reed <pixman@fink.raccoonfink.com>
