diff -Nurd fop-0.95/build.xml fop-0.95-new/build.xml
--- fop-0.95/build.xml	2008-07-31 10:02:59.000000000 -0400
+++ fop-0.95-new/build.xml	2009-09-29 14:20:25.000000000 -0400
@@ -990,6 +990,7 @@
         use="true"
         failonerror="true"
         source="${javac.source}"
+        maxmemory="1g"
         public="${javadoc.public}"
         package="${javadoc.package}"
         private="${javadoc.private}">
diff -Nurd fop-0.95/fop fop-0.95-new/fop
--- fop-0.95/fop	2008-07-31 10:02:50.000000000 -0400
+++ fop-0.95-new/fop	2009-09-29 14:18:51.000000000 -0400
@@ -86,25 +86,7 @@
 esac
 
 if [ -z "$FOP_HOME" -o ! -d "$FOP_HOME" ] ; then
-  ## resolve links - $0 may be a link to fop's home
-  PRG="$0"
-  progname=`basename "$0"`
-
-  # need this for relative symlinks
-  while [ -h "$PRG" ] ; do
-    ls=`ls -ld "$PRG"`
-    link=`expr "$ls" : '.*-> \(.*\)$'`
-    if expr "$link" : '/.*' > /dev/null; then
-      PRG="$link"
-    else
-      PRG=`dirname "$PRG"`"/$link"
-    fi
-  done
-
-  FOP_HOME=`dirname "$PRG"`
-
-  # make it fully qualified
-  FOP_HOME=`cd "$FOP_HOME" && pwd`
+  FOP_HOME="@PREFIX@/share/java/fop"
 fi
 
 # For Cygwin, ensure paths are in UNIX format before anything is touched
@@ -147,14 +129,18 @@
   LOCALCLASSPATH=$CLASSPATH
 fi
 
+if [ -z "$FOP_OPTS" ]; then
+	FOP_OPTS="-Xms64M -Xmx320M -Djava.awt.headless=true"
+fi
+
 # add fop.jar, fop-sandbox and fop-hyph.jar, which reside in $FOP_HOME/build
-LOCALCLASSPATH=${FOP_HOME}/build/fop.jar${pathSepChar}${FOP_HOME}/build/fop-sandbox.jar${pathSepChar}${FOP_HOME}/build/fop-hyph.jar${pathSepChar}$LOCALCLASSPATH
+LOCALCLASSPATH=${FOP_HOME}/fop.jar${pathSepChar}${FOP_HOME}/fop-sandbox.jar${pathSepChar}${FOP_HOME}/fop-hyph.jar${pathSepChar}$LOCALCLASSPATH
 
 # add in the dependency .jar files, which reside in $FOP_HOME/lib
 OLD_IFS=$IFS
 IFS="
 "
-DIRLIBS=${FOP_HOME}/lib/*.jar
+DIRLIBS=${FOP_HOME}/*.jar
 for i in ${DIRLIBS}
 do
     # if the directory is empty, then it will return the input string
diff -Nurd fop-0.95/forrest.properties fop-0.95-new/forrest.properties
--- fop-0.95/forrest.properties	2008-07-31 10:02:56.000000000 -0400
+++ fop-0.95-new/forrest.properties	2009-09-29 14:34:07.000000000 -0400
@@ -108,3 +108,7 @@
 # comma separated list (no spaces)
 # project.required.plugins=
 project.required.plugins=org.apache.forrest.plugin.input.projectInfo,org.apache.forrest.plugin.output.pdf
+
+build.plugins-dir=@BUILDPREFIX@/plugins
+forrest.skins-dir=${forrest.core.webapp}/skins
+forrest.plugins-dir=@BUILDPREFIX@/plugins
