diff -Nurd kdepim-4.3.1/kaddressbook/xxport/CMakeLists.txt kdepim-4.3.1-new/kaddressbook/xxport/CMakeLists.txt
--- kdepim-4.3.1/kaddressbook/xxport/CMakeLists.txt	2009-05-14 13:27:08.000000000 -0400
+++ kdepim-4.3.1-new/kaddressbook/xxport/CMakeLists.txt	2009-09-28 12:11:31.000000000 -0400
@@ -3,7 +3,7 @@
 macro_bool_to_01(GNOKII_FOUND HAVE_GNOKII_H)
 macro_log_feature(GNOKII_FOUND "gnokii" "Gnokii Development Libraries" "http://www.gnokii.org" FALSE "" "Needed to provide the ability to import and export KDE address book entries to/from mobile phones that are accessible via Gnokii")
 
-include_directories( ${CMAKE_SOURCE_DIR}/kaddressbook/interfaces ${CMAKE_SOURCE_DIR}/kaddressbook ${Boost_INCLUDE_DIR} )
+include_directories( ${CMAKE_SOURCE_DIR}/kaddressbook/interfaces ${CMAKE_SOURCE_DIR}/kaddressbook ${Boost_INCLUDE_DIR} ${GNOKII_INCLUDE_DIR} )
 
 configure_file (config-xxport.h.cmake ${CMAKE_CURRENT_BINARY_DIR}/config-xxport.h )
 
diff -Nurd kdepim-4.3.1/kleopatra/kwatchgnupg/CMakeLists.txt kdepim-4.3.1-new/kleopatra/kwatchgnupg/CMakeLists.txt
--- kdepim-4.3.1/kleopatra/kwatchgnupg/CMakeLists.txt	2009-05-14 13:27:05.000000000 -0400
+++ kdepim-4.3.1-new/kleopatra/kwatchgnupg/CMakeLists.txt	2009-09-28 10:39:07.000000000 -0400
@@ -23,10 +23,10 @@
 add_definitions( -DKDE_DEFAULT_DEBUG_AREA=5153 )
 
 if ( NOT KDE4_KCMUTILS_LIBS )
-   set ( KDE4_KCMUTILS_LIBS ${KDE4_KUTILS_LIBS} )
+   set ( KDE4_KCMUTILS_LIBS ${KDE4_KUTILS_LIBS} ${QGPGME_LIBRARIES} )
 endif ( NOT KDE4_KCMUTILS_LIBS )
 
-target_link_libraries(kwatchgnupg ${KDE4_KDEUI_LIBS} kleo ${KDEPIMLIBS_GPGMEPP_LIBS})
+target_link_libraries(kwatchgnupg ${KDE4_KDEUI_LIBS} kleo ${QGPGME_LIBRARIES})
 
 install(TARGETS kwatchgnupg ${INSTALL_TARGETS_DEFAULT_ARGS})
 
diff -Nurd kdepim-4.3.1/kpilot/conduits/calendar/CMakeLists.txt kdepim-4.3.1-new/kpilot/conduits/calendar/CMakeLists.txt
--- kdepim-4.3.1/kpilot/conduits/calendar/CMakeLists.txt	2009-05-14 13:27:09.000000000 -0400
+++ kdepim-4.3.1-new/kpilot/conduits/calendar/CMakeLists.txt	2009-09-28 09:52:13.000000000 -0400
@@ -21,7 +21,7 @@
 
 kde4_add_ui_files( calendar_SRCS settingswidget.ui )
 kde4_add_kcfg_files( calendar_SRCS calendarsettings.kcfgc )
-kde4_add_library( kpilot_conduit_calendar SHARED ${calendar_SRCS} )
+kde4_add_library( kpilot_conduit_calendar MODULE ${calendar_SRCS} )
 
 target_link_libraries( kpilot_conduit_calendar
 	${KDEPIMLIBS_KCAL_LIBS} ${KDEPIMLIBS_AKONADI_LIBS}
diff -Nurd kdepim-4.3.1/kpilot/conduits/contacts/CMakeLists.txt kdepim-4.3.1-new/kpilot/conduits/contacts/CMakeLists.txt
--- kdepim-4.3.1/kpilot/conduits/contacts/CMakeLists.txt	2009-05-14 13:27:09.000000000 -0400
+++ kdepim-4.3.1-new/kpilot/conduits/contacts/CMakeLists.txt	2009-09-28 09:52:13.000000000 -0400
@@ -20,7 +20,7 @@
 
 kde4_add_ui_files( contacts_SRCS settingswidget.ui )
 kde4_add_kcfg_files( contacts_SRCS contactssettings.kcfgc )
-kde4_add_library( kpilot_conduit_contacts SHARED ${contacts_SRCS} )
+kde4_add_library( kpilot_conduit_contacts MODULE ${contacts_SRCS} )
 
 target_link_libraries( kpilot_conduit_contacts
 	${KDEPIMLIBS_KCAL_LIBS} ${KDEPIMLIBS_AKONADI_LIBS}
diff -Nurd kdepim-4.3.1/kpilot/conduits/keyringconduit/CMakeLists.txt kdepim-4.3.1-new/kpilot/conduits/keyringconduit/CMakeLists.txt
--- kdepim-4.3.1/kpilot/conduits/keyringconduit/CMakeLists.txt	2008-09-13 04:16:13.000000000 -0400
+++ kdepim-4.3.1-new/kpilot/conduits/keyringconduit/CMakeLists.txt	2009-09-28 09:52:13.000000000 -0400
@@ -23,7 +23,7 @@
 
 kde4_add_kcfg_files(keyring_SRCS ${keyring_KCFGS})
 kde4_add_ui_files(keyring_SRCS keyringwidget.ui)
-kde4_add_library(kpilot_conduit_keyring SHARED ${keyring_SRCS})
+kde4_add_library(kpilot_conduit_keyring MODULE ${keyring_SRCS})
 
 target_link_libraries(kpilot_conduit_keyring
 	kpilot_conduit_base kpilot
diff -Nurd kdepim-4.3.1/kpilot/conduits/memofile/CMakeLists.txt kdepim-4.3.1-new/kpilot/conduits/memofile/CMakeLists.txt
--- kdepim-4.3.1/kpilot/conduits/memofile/CMakeLists.txt	2008-10-17 07:01:15.000000000 -0400
+++ kdepim-4.3.1-new/kpilot/conduits/memofile/CMakeLists.txt	2009-09-28 09:52:13.000000000 -0400
@@ -18,7 +18,7 @@
 
 kde4_add_ui_files( memofile_SRCS settingswidget.ui )
 kde4_add_kcfg_files( memofile_SRCS settings.kcfgc )
-kde4_add_library( kpilot_conduit_memofile SHARED ${memofile_SRCS} )
+kde4_add_library( kpilot_conduit_memofile MODULE ${memofile_SRCS} )
 
 target_link_libraries( kpilot_conduit_memofile
 	kpilot_conduit_base kpilot
diff -Nurd kdepim-4.3.1/kpilot/conduits/todo/CMakeLists.txt kdepim-4.3.1-new/kpilot/conduits/todo/CMakeLists.txt
--- kdepim-4.3.1/kpilot/conduits/todo/CMakeLists.txt	2009-05-14 13:27:09.000000000 -0400
+++ kdepim-4.3.1-new/kpilot/conduits/todo/CMakeLists.txt	2009-09-28 09:52:13.000000000 -0400
@@ -21,7 +21,7 @@
 
 kde4_add_ui_files( todo_SRCS settingswidget.ui )
 kde4_add_kcfg_files( todo_SRCS todosettings.kcfgc )
-kde4_add_library( kpilot_conduit_todo SHARED ${todo_SRCS} )
+kde4_add_library( kpilot_conduit_todo MODULE ${todo_SRCS} )
 
 target_link_libraries( kpilot_conduit_todo
 	${KDEPIMLIBS_KCAL_LIBS} ${KDEPIMLIBS_AKONADI_LIBS}
